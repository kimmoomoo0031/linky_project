## Linky バックエンド機能一覧（設計メモ）

このドキュメントは、Linky アプリのバックエンド機能一覧と、画面ベースで整理した仕様メモです。  
実装前の設計確認用 README です。

---

## 1. 認証・アカウント関連

- メール認証系
  - メールアドレス＋パスワードで新規登録
  - ログイン / ログアウト
  - メール認証（6桁コード）
  - パスワードリセット（メール送信 & 新パスワード設定）
  - 退会（アカウント削除）

- ソーシャルログイン
  - LINE ログイン
  - Google ログイン

- ゲスト利用
  - 非ログイン状態での投稿（仮ニックネーム＋パスワード）
  - 非ログイン状態でのコメント（仮ニックネーム＋パスワード）
  - ゲストは自分の投稿/コメントのみパスワードで削除・修正可能

---

## 2. ホーム・ラウンジ関連

- ホーム画面
  - 通知アイコン表示
  - ラウンジ検索バー
  - 閲覧したウンジ一覧
  - ベスト投稿リストの表示

- ラウンジ機能
  - ラウンジ一覧表示
  - ラウンジ詳細画面（そのラウンジの投稿一覧）

---

## 3. 投稿（記事）関連

- 投稿作成
  - ログインユーザー用投稿画面
  - ゲスト用投稿画面（ニックネーム＋パスワード）
  - タイトル / 本文 / 画像（最大 10 枚）登録（画像ファイル自体は S3 保存）

- 投稿閲覧
  - 投稿詳細画面
  - タイトル / 本文 / 画像表示
  - 作成者名 / 作成日時
  - 閲覧数表示
  - コメント数表示
  - いいね、よくない評価
  - コメント

- 投稿管理
  - 自分の投稿一覧（マイページバーから）
  - ログインユーザー: 自分の投稿のみ「修正」「削除」ボタン表示
  - ゲスト: 自分の投稿のみパスワード入力で「修正」「削除」可能

- いいね評価
  - 投稿に対する「おすすめ(いいね)」「よくないアイコン」
  - ボタン押下でカウントアップ
  - 二重押下時に「すでにおすすめ済み」等のメッセージ表示（取り消しは不可）
  - ベスト投稿判定（いいねが一定数以上で自動的にベスト扱い）

- ベスト投稿
  - いいね数が閾値以上の投稿を「ベスト」に自動登録
  - ベストタブでベスト投稿一覧を表示

---

## 4. コメント関連

- コメント投稿
  - ログインユーザーコメント
  - ゲストコメント

- コメント表示
  - コメント一覧表示
  - 並び替え: 「登録順」 / 「新着順」

- コメント管理
  - 自分のコメントのみ削除可能
    - ログインユーザー: 即時削除
    - ゲスト: パスワード入力後に削除
  - コメント編集機能はなし（再投稿前提）
  - 削除したコメントは「ユーザーが削除したコメントです。」と表示される

---

## 5. 検索機能

- 検索画面
  - キーワード検索
  - 検索条件:
    - タイトルで検索
    - 内容で検索
    - 投稿者で検索
  - 検索結果一覧表示
  - ラウンジ内検索（そのラウンジに絞った検索）

---

## 6. ベスト関連

- ベストタブ
  - ベスト投稿一覧表示
  - タイトル / 日時　/ 作成者　/ 閲覧数　/ いいね数を表示
  - クリック時、該当の詳細画面に遷移する

---

## 7. マイページ・ユーザー設定

- マイページ
  - プロフィール表示（ニックネーム、メールアドレス）
  - 自分の投稿一覧
  - プロフィール編集
  - ラウンジ申請への導線

- マイページ(Option)
  - 通知設定
  - ログアウト
  - 退会

- プロフィール編集
  - ニックネーム変更
  - メールアドレス表示（修正不可能）
  - パスワード変更

- マイページ（非ログイン時）
  - 「マイページの利用にはログインが必要です」メッセージ
  -  クリック時、ログインへの誘導

---

## 8. 通知・通知設定

- 通知一覧（登録されてるユーザーのみ）
  - 自分の投稿にコメントがついた時の通知
  - 自分の投稿がベスト投稿になった時の通知

- 通知設定
  - コメント通知 ON/OFF
  - ベスト投稿 ON/OFF

- FCM 連携
  - ユーザーごとの FCM トークン保存
  - 新規コメント / ベスト投稿プッシュ通知送信

---
